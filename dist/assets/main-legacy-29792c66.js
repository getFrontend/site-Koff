System.register([],(function(t,e){"use strict";return{execute:function(){var t=document.createElement("style");t.textContent='@charset "UTF-8";/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}@font-face{font-display:swap;font-family:Open Sans;font-style:normal;font-weight:400;src:url('+new URL("../fonts/open-sans-v36-cyrillic_latin-regular.woff2",e.meta.url).href+') format("woff2")}@font-face{font-display:swap;font-family:Open Sans;font-style:normal;font-weight:700;src:url('+new URL("../fonts/open-sans-v36-cyrillic_latin-700.woff2",e.meta.url).href+') format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url('+new URL("../fonts/inter-v13-cyrillic_latin-regular.woff2",e.meta.url).href+') format("woff2")}html{position:relative;box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}body{padding-bottom:0;position:relative;overflow-x:hidden;min-width:320px;min-height:100vh;display:flex;flex-direction:column;font-family:Open Sans,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;font-size:12px;line-height:1.2;color:#1c1c1c;background-color:#fff}img,svg{display:block;max-width:100%;height:auto}svg{max-height:100%}button{padding:0;cursor:pointer;border:none;background-color:transparent;line-height:1.2}a{text-decoration:none;color:inherit}ul{list-style:none;padding:0;margin:0}h1,h2,h3,h4,p,figure,fieldset{margin:0}.visually-hidden{position:fixed;transform:scale(0)}.container{max-width:1440px;padding:0 16px;margin:0 auto}.header{padding-top:16px;padding-bottom:16px;border-bottom:1px solid #EEEFF2}.header__container{display:grid;gap:16px;justify-content:space-between;align-items:center;grid-template-areas:"logo control" "search search"}.header__link-logo{grid-area:logo}.header__logo{width:94px;height:25px}.header__search{grid-area:search;position:relative;width:100%}.header__input{width:100%;height:38px;padding:0 44px 0 24px;background-color:#eeeff2;border:none;border-radius:32px}.header__input::-moz-placeholder{color:#969eae}.header__input::placeholder{color:#969eae}.header__input:focus-visible,.header__input:hover{outline:1px solid #DFE3EB}.header__search-button{position:absolute;top:50%;transform:translateY(-50%);right:24px;display:block;width:16px;height:16px;border-radius:4px;outline-offset:4px;outline:1px solid transparent}.header__search-button:hover,.header__search-button:active{color:#780096}.header__search-button:focus-visible{color:#780096;outline-color:#780096}.header__control{grid-area:control;justify-self:end;display:flex;gap:16px}.header__link{display:flex;flex-direction:row-reverse;gap:4px;align-items:flex-end}.header__link svg{fill:#fff}.header__link:hover,.header__link:active{color:#780096}.header__link:hover svg,.header__link:active svg{fill:#9200b7}.header__link:focus-visible{color:#780096;outline-color:#780096}.header__link-text{display:none}main{padding-bottom:80px;flex-grow:1}.footer{padding-top:32px;padding-bottom:40px;background:#1C1C1C;color:#fff;font-size:12px;font-weight:400}.footer__container{display:flex;flex-direction:column;gap:24px}.footer__logo{width:230px}.footer__developer-list{display:flex;flex-direction:column;gap:8px;color:#f1e9e4}.footer__developer-link:hover{color:#fff}.footer__copyright{color:#f1e9e4}.breadcrumb{padding-top:20px}.breadcrumb__list{display:flex;gap:6px;color:#969eae}.breadcrumb__item{display:flex;gap:6px}.breadcrumb__item:last-child{pointer-events:none}.breadcrumb__item:last-child .breadcrumb__separator{display:none}.breadcrumb__link{display:block}.breadcrumb__link:active,.breadcrumb__link:hover{color:#780096}.breadcrumb__link:focus-visible{color:#780096;outline-color:#780096}.card{position:relative;display:flex;flex-direction:column;height:100%;gap:12px}.card__image{width:100%;border-radius:16px;-o-object-fit:cover;object-fit:cover;aspect-ratio:7/6}.card__info{display:flex;flex-direction:column;flex-grow:1;gap:4px}.card__item-title{font-size:12px;font-weight:400}.card__item-price{font-size:16px}.card__button-cart{padding:12px 24px;background-color:transparent;color:#780096;border-radius:32px;border:1px solid #780096}.card__button-cart:hover{background-color:#9200b7;border-color:#9200b7;color:#fff}.card__button-cart:active{color:#c0f;background-color:transparent;border-color:#c0f}.card__button-favourite{position:absolute;top:12px;right:12px}.card__button-favourite svg{fill:#fff}.card__button-favourite:hover,.card__button-favourite_active{color:#9200b7}.card__button-favourite:hover svg,.card__button-favourite_active svg{fill:#9200b7}.card__button-favourite:active{color:#c0f}.card__button-favourite:active svg{fill:#c0f}.cart{padding-top:24px}.cart__title{font-size:24px;font-weight:700;margin-bottom:24px}.cart__products{margin-bottom:49px;max-width:514px;display:flex;flex-direction:column;gap:16px}.cart__product{display:grid;gap:8px 4px;grid-template-columns:80px auto 1fr;grid-template-rows:min-content min-content 1fr;grid-template-areas:"image title title" "image article article" "image count price"}.cart__product-link{grid-area:image}.cart__product-img{border-radius:16px}.cart__product-title{grid-area:title;font-size:12px;font-weight:400}.cart__product-article{margin-top:-6px;grid-area:article;color:#969eae;font-size:9px}.cart__product-price{grid-area:price}.cart__product-count{padding:5px 11px;grid-area:count;display:flex;align-items:center;justify-self:start;justify-content:space-between;gap:12px;border:1px solid #EEEFF2;border-radius:32px}.cart__product-btn{line-height:14px;border:1px solid transparent;outline:none}.cart__product-btn:focus-visible{border-color:#780096}.cart__form{margin-bottom:50px}.cart__subtitle{margin-bottom:16px;font-size:16px;font-weight:400}.cart__order-info{margin-bottom:32px;display:flex;justify-content:space-between;font-size:12px;font-weight:400}.cart__order-price{text-align:right}.cart__order-delivery{margin-bottom:8px;color:#969eae;font-size:9px}.cart__order-btn{width:100%;padding:12px 24px;border-radius:32px;border:1px solid transparent;background-color:#780096;color:#fff}.catalog{overflow-x:hidden;padding-top:24px}.catalog__container{padding:0}.catalog__list{overflow-x:auto;padding:0 16px;display:flex;gap:4px}.catalog__link{display:block;padding:8px 14px 10px;background-color:#eeeff2;color:#969eae;border-radius:32px;outline:none;border:1px solid transparent;white-space:nowrap}.catalog__link:hover,.catalog__link:focus-visible{border-color:#780096;color:#780096}.catalog__link:active,.catalog__link_active{background-color:#780096;color:#fff}.catalog__link:active:hover,.catalog__link:active:focus-visible,.catalog__link_active:hover,.catalog__link_active:focus-visible{color:#fff}.catalog__link_active{pointer-events:none}.contacts{display:flex;flex-direction:column;gap:20px}.contacts__phone{display:flex;gap:4px}.contacts__list{display:flex;gap:10px}.form-order{display:grid;gap:16px}.form-order__subtitle{font-size:16px;font-weight:400}.form-order__fieldset{padding:0;margin:0;border:0;display:flex;flex-direction:column;gap:8px}.form-order__input{border-radius:4px;background-color:#eeeff2;padding:0 14px;width:100%;height:38px;border:none}.form-order__input::-moz-placeholder{color:#969eae}.form-order__input::placeholder{color:#969eae}.form-order__textarea-comment{min-height:120px;padding:12px 14px;border-radius:4px;background-color:#eeeff2;border:none;resize:none}.form-order__textarea-comment::-moz-placeholder{color:#969eae}.form-order__textarea-comment::placeholder{color:#969eae}.form-order__legend{font-size:16px;margin-bottom:12px}.form-order__label{display:flex;gap:8px}.form-order__radio{display:flex;flex-direction:column;align-items:flex-start}.goods{padding-top:24px}.goods__title{margin-bottom:24px;font-size:24px;font-weight:700}.goods__list{display:grid;gap:50px 8px;justify-content:space-evenly;grid-template-columns:repeat(auto-fit,140px)}.order{padding-top:32px}.order__container{max-width:320px;padding:24px 16px;border:1px solid #EEEFF2;border-radius:16px;overflow:hidden}.order__info{margin-bottom:8px;display:flex;flex-direction:column;gap:8px}.order__title{font-size:16px;font-weight:400}.order__fullprice{font-size:16px}.order__number{display:inline-block;margin-bottom:20px;padding:4px 8px;border-radius:32px;background-color:#eeeff2}.order__subtitle{font-size:16px;font-weight:400}.order__table{margin-top:12px;margin-bottom:24px}.order__button{width:100%;padding:12px 24px;border-radius:32px;border:1px solid transparent;background-color:#780096;color:#fff}.product{padding-top:24px}.product__title{margin-bottom:24px;font-size:24px;font-weight:700}.product__picture{margin-bottom:32px}.product__slider-main{position:relative;width:100%;height:74vw;max-height:586px}.product__slide{display:flex;justify-content:center;align-items:center;overflow:hidden;border-radius:16px;cursor:pointer}.product__slide-thumbnail{border-radius:16px;overflow:hidden}.product__image{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.product__slider-thumbnails{display:none;height:22vw;max-height:138px}.product__image-thumbnail{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.product__slider-controls{position:absolute;z-index:10;top:50%;transform:translateY(-50%);width:32px}.product__slider-controls_next{right:16px}.product__slider-controls_prev{left:16px}.product__price{margin-top:32px;margin-bottom:12px;font-size:20px}.product__article{display:inline-block;padding:4px 8px;border-radius:32px;background-color:#eeeff2;margin-bottom:24px}.product__specs-title{font-size:16px;font-weight:400;margin-bottom:4px}.product__specs-table{margin-bottom:24px}.product__buttons{display:flex;align-items:center;gap:12px}.product__buttons-cart{flex-grow:1;padding:12px 24px;color:#fff;border:1px solid transparent;background-color:#780096;border-radius:32px}.product__buttons-cart:hover{background-color:#9200b7}.product__buttons-cart:focus-visible{border-color:#c0f}.product__buttons-favourite{width:16px;height:16px}.product__buttons-favourite svg{fill:#fff}.product__buttons-favourite:hover,.product__buttons-favourite_active{color:#9200b7}.product__buttons-favourite:hover svg,.product__buttons-favourite_active svg{fill:#9200b7}.product__buttons-favourite:active{color:#c0f}.product__buttons-favourite:active svg{fill:#c0f}.pagination{margin:auto;padding-top:32px;width:200px;display:flex;flex-direction:column;align-items:center}.pagination__bar{margin-bottom:16px;height:6px;width:100%;background-color:#eeeff2;border-radius:3px}.pagination__bar:after{content:"";display:block;background-color:#780096;height:100%;width:var(--width);border-radius:3px;transition:width .36s ease-in-out}.pagination__controls{display:flex;gap:8px}.pagination__prev,.pagination__next{width:16px;height:16px}.pagination__info{display:flex;align-items:center;gap:4px}.radio{position:relative;display:flex;align-items:center;font-size:12px;line-height:16px}.radio:last-child{margin-bottom:0}.radio__input{position:relative;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:2px;margin-right:8px}.radio__input:before{content:"";display:block;width:12px;height:12px;background-color:#fff;border:1px solid black;border-radius:8px}.radio__input:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:4px;height:4px;background-color:#151515;border-radius:50%;opacity:0}.radio__input:focus-visible{outline:none}.radio__input:focus-visible:before{box-shadow:0 0 10px rgba(120,0,150,.5)}.radio__input:checked:after{opacity:1}.radio__input:hover:not(:disabled):before{box-shadow:0 0 10px rgba(120,0,150,.5)}.radio__input:disabled:before{background-color:#ccc}.table{width:100%;border-collapse:collapse}.table__row{border-bottom:1px solid #eeeff2}.table__field{padding:8px 0;color:#969eae}.table__value{padding:8px 0;text-align:right;color:#1c1c1c}@media (min-width: 520px){.cart__products{max-width:100%}.cart__order-info{font-size:16px;margin-bottom:40px}.cart__order-delivery{margin-bottom:12px;font-size:12px}}@media (min-width: 580px){.container{padding:0 29px}.header__link{flex-direction:row}.header__link-text{display:block}main{padding-bottom:100px}.footer__container{display:grid;grid-template-columns:1fr auto;grid-template-areas:"logo contacts" "developers developers" "copyright copyright"}.footer__logo{grid-area:logo}.footer__contacts{grid-area:contacts}.footer__developer-list{grid-area:developers}.footer__copyright{grid-area:copyright}.breadcrumb{padding-top:24px}.card{gap:19px}.card__image{aspect-ratio:11.5/10}.card__info{flex-direction:row;justify-content:space-between}.card__item-title{font-size:16px}.card__item-price{margin-top:-4px;font-size:20px}.card__button-cart{margin-top:-1px}.cart{padding-top:32px}.cart__product{gap:12px;grid-template-columns:120px 1fr auto;grid-template-areas:"image title price" "image article price" "image count price"}.cart__product-title{padding-top:12px;font-size:16px}.cart__product-article{font-size:12px}.cart__product-price{padding-top:12px;font-size:16px}.cart__product-count{align-self:end}.cart__subtitle{font-size:20px}.catalog__list{padding:0}.form-order{grid-template-columns:230px auto;grid-template-areas:"subtitle subtitle" "info info" "delivery payment"}.form-order__subtitle{grid-area:subtitle}.form-order__fieldset_info{grid-area:info;display:grid;grid-template-columns:repeat(2,1fr)}.form-order__fieldset_delivery{grid-area:delivery}.form-order__fieldset_payment{grid-area:payment}.form-order__textarea-comment{grid-column:span 2}.goods__title{font-size:32px}.goods__list{gap:65px 10px;grid-template-columns:repeat(auto-fit,230px)}.order{padding-top:60px}.order__container{max-width:710px;padding:60px 151px}.order__info{margin-bottom:12px;display:flex;flex-direction:row;justify-content:space-between}.order__title,.order__fullprice{font-size:20px}.order__number{margin-bottom:24px}.product{padding-top:28px}.product__title{font-size:32px}.product__picture{margin-bottom:40px}.product__slider-main{margin-bottom:14px;height:92vw}.product__slider-thumbnails{display:block;margin-top:14px}.product__slider-controls_next{right:24px}.product__slider-controls_prev{left:24px}.pagination{padding-top:40px}}@media (min-width: 820px){.container{padding:0 43px}.header__container{grid-template-areas:"logo search control";grid-template-columns:94px 1fr auto}.header__search{max-width:408px;justify-self:center}.footer__container{gap:32px}.footer__logo{width:331px}.card__image{aspect-ratio:15.1/12.5}.cart{padding-top:40px}.cart__container{display:grid;gap:0 122px;grid-template-columns:auto 302px;grid-template-areas:"title title" "products order" "form form"}.cart__title{grid-area:title}.cart__products{grid-area:products}.cart__form{grid-area:form;margin-bottom:0}.cart__order{grid-area:order}.catalog,.goods{padding-top:32px}.goods__title{margin-bottom:40px}.goods__list{gap:81px 16px;grid-template-columns:repeat(auto-fit,302px)}.order__container{max-width:832px;padding-right:159px;padding-left:159px}.product{padding-top:40px}.product__container{display:grid;grid-template-columns:66% 1fr;gap:40px 16px}.product__title{margin-bottom:0;grid-column:1/-1}.product__picture{grid-column:1/2;margin-bottom:0}.product__slider-main{height:60vw;max-height:512px}.product__slider-thumbnails{height:12vw;max-height:120px}.product__info{grid-column:2/3}.product__price{margin-top:0}}@media (min-width: 920px){main{padding-bottom:100px}}@media (min-width: 1120px){.container{padding:0 92px}.header__search{max-width:514px}.cart__container{gap:0 16px;grid-template-columns:832px auto;grid-template-areas:"title title" "products order" "form order"}.cart__products{max-width:514px}.catalog,.goods{padding-top:40px}.order__container{padding-right:212px;padding-left:212px}.product__slider-main{height:48vw;max-height:688px;min-width:832px}.product__slider-thumbnails{max-height:162px}}\n',document.head.appendChild(t);var n=/([:*])(\w+)/g,r="([^/]+)",o=/\*/g,i="?(?:.*)",a=/\/\?/g,s="/?([^/]+|)",c="(?:/^|^)",l="";function d(t){return void 0===t&&(t="/"),x()?location.pathname+location.search+location.hash:t}function u(t){return t.replace(/\/+$/,"").replace(/^\/+/,"")}function p(t){return"string"==typeof t}function h(t){return t&&t.indexOf("#")>=0&&t.split("#").pop()||""}function m(t){var e=u(t).split(/\?(.*)?$/);return[u(e[0]),e.slice(1).join("")]}function f(t){for(var e={},n=t.split("&"),r=0;r<n.length;r++){var o=n[r].split("=");if(""!==o[0]){var i=decodeURIComponent(o[0]);e[i]?(Array.isArray(e[i])||(e[i]=[e[i]]),e[i].push(decodeURIComponent(o[1]||""))):e[i]=decodeURIComponent(o[1]||"")}}return e}function g(t,e){var d,g=m(u(t.currentLocationPath)),_=g[0],b=g[1],x=""===b?null:f(b),v=[];if(p(e.path)){if(d=c+u(e.path).replace(n,(function(t,e,n){return v.push(n),r})).replace(o,i).replace(a,s)+"$",""===u(e.path)&&""===u(_))return{url:_,queryString:b,hashString:h(t.to),route:e,data:null,params:x}}else d=e.path;var y=new RegExp(d,l),w=_.match(y);if(w){var C=p(e.path)?function(t,e){return 0===e.length?null:t?t.slice(1,t.length).reduce((function(t,n,r){return null===t&&(t={}),t[e[r]]=decodeURIComponent(n),t}),null):null}(w,v):w.groups?w.groups:w.slice(1);return{url:u(_.replace(new RegExp("^"+t.instance.root),"")),queryString:b,hashString:h(t.to),route:e,data:C,params:x}}return!1}function _(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function b(t,e){return void 0===t[e]||!0===t[e]}function x(){return"undefined"!=typeof window}function v(t,e){return void 0===t&&(t=[]),void 0===e&&(e={}),t.filter((function(t){return t})).forEach((function(t){["before","after","already","leave"].forEach((function(n){t[n]&&(e[n]||(e[n]=[]),e[n].push(t[n]))}))})),e}function y(t,e,n){var r=e||{},o=0;!function e(){t[o]?Array.isArray(t[o])?(t.splice.apply(t,[o,1].concat(t[o][0](r)?t[o][1]:t[o][2])),e()):t[o](r,(function(t){void 0===t||!0===t?(o+=1,e()):n&&n(r)})):n&&n(r)}()}function w(t,e){void 0===t.currentLocationPath&&(t.currentLocationPath=t.to=d(t.instance.root)),t.currentLocationPath=t.instance._checkForAHash(t.currentLocationPath),e()}function C(t,e){for(var n=0;n<t.instance.routes.length;n++){var r=g(t,t.instance.routes[n]);if(r&&(t.matches||(t.matches=[]),t.matches.push(r),"ONE"===t.resolveOptions.strategy))return void e()}e()}function E(t,e){t.navigateOptions&&(void 0!==t.navigateOptions.shouldResolve&&console.warn('"shouldResolve" is deprecated. Please check the documentation.'),void 0!==t.navigateOptions.silent&&console.warn('"silent" is deprecated. Please check the documentation.')),e()}function L(t,e){!0===t.navigateOptions.force?(t.instance._setCurrent([t.instance._pathToMatchObject(t.to)]),e(!1)):e()}y.if=function(t,e,n){return Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]),[t,e,n]};var k=x(),O=_();function S(t,e){if(b(t.navigateOptions,"updateBrowserURL")){var n=("/"+t.to).replace(/\/\//g,"/"),r=k&&t.resolveOptions&&!0===t.resolveOptions.hash;O?(history[t.navigateOptions.historyAPIMethod||"pushState"](t.navigateOptions.stateObj||{},t.navigateOptions.title||"",r?"#"+n:n),location&&location.hash&&(t.instance.__freezeListening=!0,setTimeout((function(){if(!r){var e=location.hash;location.hash="",location.hash=e}t.instance.__freezeListening=!1}),1))):k&&(window.location.href=t.to)}e()}function A(t,e){var n=t.instance;n.lastResolved()?y(n.lastResolved().map((function(e){return function(n,r){if(e.route.hooks&&e.route.hooks.leave){var o=!1,i=t.instance.matchLocation(e.route.path,t.currentLocationPath,!1);o="*"!==e.route.path?!i:!(t.matches&&t.matches.find((function(t){return e.route.path===t.route.path}))),b(t.navigateOptions,"callHooks")&&o?y(e.route.hooks.leave.map((function(e){return function(n,r){return e((function(e){!1===e?t.instance.__markAsClean(t):r()}),t.matches&&t.matches.length>0?1===t.matches.length?t.matches[0]:t.matches:void 0)}})).concat([function(){return r()}])):r()}else r()}})),{},(function(){return e()})):e()}function P(t,e){b(t.navigateOptions,"updateState")&&t.instance._setCurrent(t.matches),e()}var R=[function(t,e){var n=t.instance.lastResolved();if(n&&n[0]&&n[0].route===t.match.route&&n[0].url===t.match.url&&n[0].queryString===t.match.queryString)return n.forEach((function(e){e.route.hooks&&e.route.hooks.already&&b(t.navigateOptions,"callHooks")&&e.route.hooks.already.forEach((function(e){return e(t.match)}))})),void e(!1);e()},function(t,e){t.match.route.hooks&&t.match.route.hooks.before&&b(t.navigateOptions,"callHooks")?y(t.match.route.hooks.before.map((function(e){return function(n,r){return e((function(e){!1===e?t.instance.__markAsClean(t):r()}),t.match)}})).concat([function(){return e()}])):e()},function(t,e){b(t.navigateOptions,"callHandler")&&t.match.route.handler(t.match),t.instance.updatePageLinks(),e()},function(t,e){t.match.route.hooks&&t.match.route.hooks.after&&b(t.navigateOptions,"callHooks")&&t.match.route.hooks.after.forEach((function(e){return e(t.match)})),e()}],T=[A,function(t,e){var n=t.instance._notFoundRoute;if(n){t.notFoundHandled=!0;var r=m(t.currentLocationPath),o=r[0],i=r[1],a=h(t.to);n.path=u(o);var s={url:n.path,queryString:i,hashString:a,data:null,route:n,params:""!==i?f(i):null};t.matches=[s],t.match=s}e()},y.if((function(t){return t.notFoundHandled}),R.concat([P]),[function(t,e){t.resolveOptions&&!1!==t.resolveOptions.noMatchWarning&&void 0!==t.resolveOptions.noMatchWarning||console.warn('Navigo: "'+t.currentLocationPath+"\" didn't match any of the registered routes."),e()},function(t,e){t.instance._setCurrent(null),e()}])];function j(){return j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j.apply(this,arguments)}function N(t,e){var n=0;A(t,(function r(){n!==t.matches.length?y(R,j({},t,{match:t.matches[n]}),(function(){n+=1,r()})):P(t,e)}))}function M(t){t.instance.__markAsClean(t)}function U(){return U=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U.apply(this,arguments)}var z="[data-navigo]";const D=""+new URL("logo-6c4eb9e6.svg",e.meta.url).href;class B{constructor(t){this.mainClassName=t}create(){const t=document.createElement("a");t.classList.add(`${this.mainClassName}__link-logo`),t.href="/";const e=new Image;return e.classList.add(`${this.mainClassName}__logo`),e.src=D,e.alt="Логотип интернет-магазина Koff",t.append(e),t}}let F=0;const $=async()=>{if(!F){const t=await fetch("./img/like.svg"),e=await t.text();F=(new DOMParser).parseFromString(e,"image/svg+xml").querySelector("svg")}return F.cloneNode(!0)},q=(t,e)=>{const n=document.createElement("div");return n.classList.add("container"),e&&n.classList.add(e),t.append(n),n};function H(t,e){return function(){return t.apply(e,arguments)}}const{toString:K}=Object.prototype,{getPrototypeOf:I}=Object,J=(V=Object.create(null),t=>{const e=K.call(t);return V[e]||(V[e]=e.slice(8,-1).toLowerCase())});var V;const W=t=>(t=t.toLowerCase(),e=>J(e)===t),Z=t=>e=>typeof e===t,{isArray:G}=Array,Q=Z("undefined"),X=W("ArrayBuffer"),Y=Z("string"),tt=Z("function"),et=Z("number"),nt=t=>null!==t&&"object"==typeof t,rt=t=>{if("object"!==J(t))return!1;const e=I(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},ot=W("Date"),it=W("File"),at=W("Blob"),st=W("FileList"),ct=W("URLSearchParams");function lt(t,e,{allOwnKeys:n=!1}={}){if(null==t)return;let r,o;if("object"!=typeof t&&(t=[t]),G(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(r=0;r<i;r++)a=o[r],e.call(null,t[a],a,t)}}function dt(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,o=n.length;for(;o-- >0;)if(r=n[o],e===r.toLowerCase())return r;return null}const ut="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,pt=t=>!Q(t)&&t!==ut,ht=(mt="undefined"!=typeof Uint8Array&&I(Uint8Array),t=>mt&&t instanceof mt);var mt;const ft=W("HTMLFormElement"),gt=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),_t=W("RegExp"),bt=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};lt(n,((n,o)=>{let i;!1!==(i=e(n,o,t))&&(r[o]=i||n)})),Object.defineProperties(t,r)},xt="abcdefghijklmnopqrstuvwxyz",vt="0123456789",yt={DIGIT:vt,ALPHA:xt,ALPHA_DIGIT:xt+xt.toUpperCase()+vt},wt=W("AsyncFunction"),Ct={isArray:G,isArrayBuffer:X,isBuffer:function(t){return null!==t&&!Q(t)&&null!==t.constructor&&!Q(t.constructor)&&tt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||tt(t.append)&&("formdata"===(e=J(t))||"object"===e&&tt(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&X(t.buffer),e},isString:Y,isNumber:et,isBoolean:t=>!0===t||!1===t,isObject:nt,isPlainObject:rt,isUndefined:Q,isDate:ot,isFile:it,isBlob:at,isRegExp:_t,isFunction:tt,isStream:t=>nt(t)&&tt(t.pipe),isURLSearchParams:ct,isTypedArray:ht,isFileList:st,forEach:lt,merge:function t(){const{caseless:e}=pt(this)&&this||{},n={},r=(r,o)=>{const i=e&&dt(n,o)||o;rt(n[i])&&rt(r)?n[i]=t(n[i],r):rt(r)?n[i]=t({},r):G(r)?n[i]=r.slice():n[i]=r};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&lt(arguments[o],r);return n},extend:(t,e,n,{allOwnKeys:r}={})=>(lt(e,((e,r)=>{n&&tt(e)?t[r]=H(e,n):t[r]=e}),{allOwnKeys:r}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,r)=>{let o,i,a;const s={};if(e=e||{},null==t)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)a=o[i],r&&!r(a,t,e)||s[a]||(e[a]=t[a],s[a]=!0);t=!1!==n&&I(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:J,kindOfTest:W,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if(G(t))return t;let e=t.length;if(!et(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:ft,hasOwnProperty:gt,hasOwnProp:gt,reduceDescriptors:bt,freezeMethods:t=>{bt(t,((e,n)=>{if(tt(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];tt(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach((t=>{n[t]=!0}))};return G(t)?r(t):r(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:dt,global:ut,isContextDefined:pt,ALPHABET:yt,generateString:(t=16,e=yt.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n},isSpecCompliantForm:function(t){return!!(t&&tt(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,r)=>{if(nt(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const o=G(t)?[]:{};return lt(t,((t,e)=>{const i=n(t,r+1);!Q(i)&&(o[e]=i)})),e[r]=void 0,o}}return t};return n(t,0)},isAsyncFn:wt,isThenable:t=>t&&(nt(t)||tt(t))&&tt(t.then)&&tt(t.catch)};function Et(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}Ct.inherits(Et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ct.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Lt=Et.prototype,kt={};function Ot(t){return Ct.isPlainObject(t)||Ct.isArray(t)}function St(t){return Ct.endsWith(t,"[]")?t.slice(0,-2):t}function At(t,e,n){return t?t.concat(e).map((function(t,e){return t=St(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{kt[t]={value:t}})),Object.defineProperties(Et,kt),Object.defineProperty(Lt,"isAxiosError",{value:!0}),Et.from=(t,e,n,r,o,i)=>{const a=Object.create(Lt);return Ct.toFlatObject(t,a,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),Et.call(a,t.message,e,n,r,o),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};const Pt=Ct.toFlatObject(Ct,{},null,(function(t){return/^is[A-Z]/.test(t)}));function Rt(t,e,n){if(!Ct.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const r=(n=Ct.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!Ct.isUndefined(e[t])}))).metaTokens,o=n.visitor||l,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Ct.isSpecCompliantForm(e);if(!Ct.isFunction(o))throw new TypeError("visitor must be a function");function c(t){if(null===t)return"";if(Ct.isDate(t))return t.toISOString();if(!s&&Ct.isBlob(t))throw new Et("Blob is not supported. Use a Buffer instead.");return Ct.isArrayBuffer(t)||Ct.isTypedArray(t)?s&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function l(t,n,o){let s=t;if(t&&!o&&"object"==typeof t)if(Ct.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(Ct.isArray(t)&&function(t){return Ct.isArray(t)&&!t.some(Ot)}(t)||(Ct.isFileList(t)||Ct.endsWith(n,"[]"))&&(s=Ct.toArray(t)))return n=St(n),s.forEach((function(t,r){!Ct.isUndefined(t)&&null!==t&&e.append(!0===a?At([n],r,i):null===a?n:n+"[]",c(t))})),!1;return!!Ot(t)||(e.append(At(o,n,i),c(t)),!1)}const d=[],u=Object.assign(Pt,{defaultVisitor:l,convertValue:c,isVisitable:Ot});if(!Ct.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!Ct.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),Ct.forEach(n,(function(n,i){!0===(!(Ct.isUndefined(n)||null===n)&&o.call(e,n,Ct.isString(i)?i.trim():i,r,u))&&t(n,r?r.concat(i):[i])})),d.pop()}}(t),e}function Tt(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function jt(t,e){this._pairs=[],t&&Rt(t,this,e)}const Nt=jt.prototype;function Mt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ut(t,e,n){if(!e)return t;const r=n&&n.encode||Mt,o=n&&n.serialize;let i;if(i=o?o(e,n):Ct.isURLSearchParams(e)?e.toString():new jt(e,n).toString(r),i){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}Nt.append=function(t,e){this._pairs.push([t,e])},Nt.toString=function(t){const e=t?function(e){return t.call(this,e,Tt)}:Tt;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const zt=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ct.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},Dt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bt={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:jt,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let t;return("undefined"==typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};function Ft(t){function e(t,n,r,o){let i=t[o++];const a=Number.isFinite(+i),s=o>=t.length;return i=!i&&Ct.isArray(r)?r.length:i,s?(Ct.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a):(r[i]&&Ct.isObject(r[i])||(r[i]=[]),e(t,n,r[i],o)&&Ct.isArray(r[i])&&(r[i]=function(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}(r[i])),!a)}if(Ct.isFormData(t)&&Ct.isFunction(t.entries)){const n={};return Ct.forEachEntry(t,((t,r)=>{e(function(t){return Ct.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),r,n,0)})),n}return null}const $t={transitional:Dt,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,o=Ct.isObject(t);if(o&&Ct.isHTMLForm(t)&&(t=new FormData(t)),Ct.isFormData(t))return r&&r?JSON.stringify(Ft(t)):t;if(Ct.isArrayBuffer(t)||Ct.isBuffer(t)||Ct.isStream(t)||Ct.isFile(t)||Ct.isBlob(t))return t;if(Ct.isArrayBufferView(t))return t.buffer;if(Ct.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Rt(t,new Bt.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return Bt.isNode&&Ct.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((i=Ct.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Rt(i?{"files[]":t}:t,e&&new e,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),function(t,e,n){if(Ct.isString(t))try{return(e||JSON.parse)(t),Ct.trim(t)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||$t.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(t&&Ct.isString(t)&&(n&&!this.responseType||r)){const n=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(o){if(n){if("SyntaxError"===o.name)throw Et.from(o,Et.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bt.classes.FormData,Blob:Bt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ct.forEach(["delete","get","head","post","put","patch"],(t=>{$t.headers[t]={}}));const qt=$t,Ht=Ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kt=Symbol("internals");function It(t){return t&&String(t).trim().toLowerCase()}function Jt(t){return!1===t||null==t?t:Ct.isArray(t)?t.map(Jt):String(t)}function Vt(t,e,n,r,o){return Ct.isFunction(r)?r.call(this,e,n):(o&&(e=n),Ct.isString(e)?Ct.isString(r)?-1!==e.indexOf(r):Ct.isRegExp(r)?r.test(e):void 0:void 0)}class Wt{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function o(t,e,n){const o=It(e);if(!o)throw new Error("header name must be a non-empty string");const i=Ct.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||e]=Jt(t))}const i=(t,e)=>Ct.forEach(t,((t,n)=>o(t,n,e)));return Ct.isPlainObject(t)||t instanceof this.constructor?i(t,e):Ct.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?i((t=>{const e={};let n,r,o;return t&&t.split("\n").forEach((function(t){o=t.indexOf(":"),n=t.substring(0,o).trim().toLowerCase(),r=t.substring(o+1).trim(),!n||e[n]&&Ht[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e})(t),e):null!=t&&o(e,t,n),this}get(t,e){if(t=It(t)){const n=Ct.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(Ct.isFunction(e))return e.call(this,t,n);if(Ct.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=It(t)){const n=Ct.findKey(this,t);return!(!n||void 0===this[n]||e&&!Vt(0,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function o(t){if(t=It(t)){const o=Ct.findKey(n,t);!o||e&&!Vt(0,n[o],o,e)||(delete n[o],r=!0)}}return Ct.isArray(t)?t.forEach(o):o(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const o=e[n];t&&!Vt(0,this[o],o,t,!0)||(delete this[o],r=!0)}return r}normalize(t){const e=this,n={};return Ct.forEach(this,((r,o)=>{const i=Ct.findKey(n,o);if(i)return e[i]=Jt(r),void delete e[o];const a=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(o):String(o).trim();a!==o&&delete e[o],e[a]=Jt(r),n[a]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Ct.forEach(this,((n,r)=>{null!=n&&!1!==n&&(e[r]=t&&Ct.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=(this[Kt]=this[Kt]={accessors:{}}).accessors,n=this.prototype;function r(t){const r=It(t);e[r]||(function(t,e){const n=Ct.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+n,{value:function(t,n,o){return this[r].call(this,e,t,n,o)},configurable:!0})}))}(n,t),e[r]=!0)}return Ct.isArray(t)?t.forEach(r):r(t),this}}Wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ct.reduceDescriptors(Wt.prototype,(({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[n]=t}}})),Ct.freezeMethods(Wt);const Zt=Wt;function Gt(t,e){const n=this||qt,r=e||n,o=Zt.from(r.headers);let i=r.data;return Ct.forEach(t,(function(t){i=t.call(n,i,o.normalize(),e?e.status:void 0)})),o.normalize(),i}function Qt(t){return!(!t||!t.__CANCEL__)}function Xt(t,e,n){Et.call(this,null==t?"canceled":t,Et.ERR_CANCELED,e,n),this.name="CanceledError"}Ct.inherits(Xt,Et,{__CANCEL__:!0});const Yt=Bt.isStandardBrowserEnv?{write:function(t,e,n,r,o,i){const a=[];a.push(t+"="+encodeURIComponent(e)),Ct.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Ct.isString(r)&&a.push("path="+r),Ct.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function te(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const ee=Bt.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=Ct.isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};function ne(t,e){let n=0;const r=function(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o,i=0,a=0;return e=void 0!==e?e:1e3,function(s){const c=Date.now(),l=r[a];o||(o=c),n[i]=s,r[i]=c;let d=a,u=0;for(;d!==i;)u+=n[d++],d%=t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),c-o<e)return;const p=l&&c-l;return p?Math.round(1e3*u/p):void 0}}(50,250);return o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,s=i-n,c=r(s);n=i;const l={loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&i<=a?(a-i)/c:void 0,event:o};l[e?"download":"upload"]=!0,t(l)}}const re={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){let r=t.data;const o=Zt.from(t.headers).normalize(),i=t.responseType;let a,s;function c(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}Ct.isFormData(r)&&(Bt.isStandardBrowserEnv||Bt.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.getContentType(/^\s*multipart\/form-data/)?Ct.isString(s=o.getContentType())&&o.setContentType(s.replace(/^\s*(multipart\/form-data);+/,"$1")):o.setContentType("multipart/form-data"));let l=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(e+":"+n))}const d=te(t.baseURL,t.url);function u(){if(!l)return;const r=Zt.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new Et("Request failed with status code "+n.status,[Et.ERR_BAD_REQUEST,Et.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),c()}),(function(t){n(t),c()}),{data:i&&"text"!==i&&"json"!==i?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:t,request:l}),l=null}if(l.open(t.method.toUpperCase(),Ut(d,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(n(new Et("Request aborted",Et.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new Et("Network Error",Et.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const r=t.transitional||Dt;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new Et(e,r.clarifyTimeoutError?Et.ETIMEDOUT:Et.ECONNABORTED,t,l)),l=null},Bt.isStandardBrowserEnv){const e=(t.withCredentials||ee(d))&&t.xsrfCookieName&&Yt.read(t.xsrfCookieName);e&&o.set(t.xsrfHeaderName,e)}void 0===r&&o.setContentType(null),"setRequestHeader"in l&&Ct.forEach(o.toJSON(),(function(t,e){l.setRequestHeader(e,t)})),Ct.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),i&&"json"!==i&&(l.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&l.addEventListener("progress",ne(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",ne(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=e=>{l&&(n(!e||e.type?new Xt(null,t,l):e),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const p=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(d);p&&-1===Bt.protocols.indexOf(p)?n(new Et("Unsupported protocol "+p+":",Et.ERR_BAD_REQUEST,t)):l.send(r||null)}))}};Ct.forEach(re,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}}));const oe=t=>`- ${t}`,ie=t=>Ct.isFunction(t)||null===t||!1===t,ae=t=>{t=Ct.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let i=0;i<e;i++){let e;if(n=t[i],r=n,!ie(n)&&(r=re[(e=String(n)).toLowerCase()],void 0===r))throw new Et(`Unknown adapter '${e}'`);if(r)break;o[e||"#"+i]=r}if(!r){const t=Object.entries(o).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));throw new Et("There is no suitable adapter to dispatch the request "+(e?t.length>1?"since :\n"+t.map(oe).join("\n"):" "+oe(t[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function se(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Xt(null,t)}function ce(t){return se(t),t.headers=Zt.from(t.headers),t.data=Gt.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ae(t.adapter||qt.adapter)(t).then((function(e){return se(t),e.data=Gt.call(t,t.transformResponse,e),e.headers=Zt.from(e.headers),e}),(function(e){return Qt(e)||(se(t),e&&e.response&&(e.response.data=Gt.call(t,t.transformResponse,e.response),e.response.headers=Zt.from(e.response.headers))),Promise.reject(e)}))}const le=t=>t instanceof Zt?t.toJSON():t;function de(t,e){e=e||{};const n={};function r(t,e,n){return Ct.isPlainObject(t)&&Ct.isPlainObject(e)?Ct.merge.call({caseless:n},t,e):Ct.isPlainObject(e)?Ct.merge({},e):Ct.isArray(e)?e.slice():e}function o(t,e,n){return Ct.isUndefined(e)?Ct.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function i(t,e){if(!Ct.isUndefined(e))return r(void 0,e)}function a(t,e){return Ct.isUndefined(e)?Ct.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function s(n,o,i){return i in e?r(n,o):i in t?r(void 0,n):void 0}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(t,e)=>o(le(t),le(e),!0)};return Ct.forEach(Object.keys(Object.assign({},t,e)),(function(r){const i=c[r]||o,a=i(t[r],e[r],r);Ct.isUndefined(a)&&i!==s||(n[r]=a)})),n}const ue="1.5.1",pe={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{pe[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const he={};pe.transitional=function(t,e,n){function r(t,e){return"[Axios v1.5.1] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,o,i)=>{if(!1===t)throw new Et(r(o," has been removed"+(e?" in "+e:"")),Et.ERR_DEPRECATED);return e&&!he[o]&&(he[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,o,i)}};const me={assertOptions:function(t,e,n){if("object"!=typeof t)throw new Et("options must be an object",Et.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],a=e[i];if(a){const e=t[i],n=void 0===e||a(e,i,t);if(!0!==n)throw new Et("option "+i+" must be "+n,Et.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Et("Unknown option "+i,Et.ERR_BAD_OPTION)}},validators:pe},fe=me.validators;class ge{constructor(t){this.defaults=t,this.interceptors={request:new zt,response:new zt}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=de(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:o}=e;void 0!==n&&me.assertOptions(n,{silentJSONParsing:fe.transitional(fe.boolean),forcedJSONParsing:fe.transitional(fe.boolean),clarifyTimeoutError:fe.transitional(fe.boolean)},!1),null!=r&&(Ct.isFunction(r)?e.paramsSerializer={serialize:r}:me.assertOptions(r,{encode:fe.function,serialize:fe.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let i=o&&Ct.merge(o.common,o[e.method]);o&&Ct.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete o[t]})),e.headers=Zt.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(s=s&&t.synchronous,a.unshift(t.fulfilled,t.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)}));let d,u=0;if(!s){const t=[ce.bind(this),void 0];for(t.unshift.apply(t,a),t.push.apply(t,c),d=t.length,l=Promise.resolve(e);u<d;)l=l.then(t[u++],t[u++]);return l}d=a.length;let p=e;for(u=0;u<d;){const t=a[u++],e=a[u++];try{p=t(p)}catch(h){e.call(this,h);break}}try{l=ce.call(this,p)}catch(h){return Promise.reject(h)}for(u=0,d=c.length;u<d;)l=l.then(c[u++],c[u++]);return l}getUri(t){return Ut(te((t=de(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}Ct.forEach(["delete","get","head","options"],(function(t){ge.prototype[t]=function(e,n){return this.request(de(n||{},{method:t,url:e,data:(n||{}).data}))}})),Ct.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,o){return this.request(de(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ge.prototype[t]=e(),ge.prototype[t+"Form"]=e(!0)}));const _e=ge;class be{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,o){n.reason||(n.reason=new Xt(t,r,o),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new be((function(e){t=e})),cancel:t}}}const xe=be,ve={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ve).forEach((([t,e])=>{ve[e]=t}));const ye=ve,we=function t(e){const n=new _e(e),r=H(_e.prototype.request,n);return Ct.extend(r,_e.prototype,n,{allOwnKeys:!0}),Ct.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(de(e,n))},r}(qt);we.Axios=_e,we.CanceledError=Xt,we.CancelToken=xe,we.isCancel=Qt,we.VERSION=ue,we.toFormData=Rt,we.AxiosError=Et,we.Cancel=we.CanceledError,we.all=function(t){return Promise.all(t)},we.spread=function(t){return function(e){return t.apply(null,e)}},we.isAxiosError=function(t){return Ct.isObject(t)&&!0===t.isAxiosError},we.mergeConfig=de,we.AxiosHeaders=Zt,we.formToJSON=t=>Ft(Ct.isHTMLForm(t)?new FormData(t):t),we.getAdapter=ae,we.HttpStatusCode=ye,we.default=we;const Ce=we,Ee="https://koff-api.vercel.app/";class Le{constructor(t){this.key=t}get(){const t=localStorage.getItem(this.key);return t||null}set(t){"object"==typeof t&&(t=JSON.stringify(t)),localStorage.setItem(this.key,t)}delete(){localStorage.removeItem(this.key)}}class ke extends Le{static instance;constructor(t="favourite"){return ke.instance||(super(t),this.favourite=new Set(this.get()),ke.instance=this),ke.instance}get(){const t=super.get();if(t){const e=JSON.parse(t);if(Array.isArray(e))return e}return[]}add(t){this.favourite.add(t),this.set([...this.favourite])}remove(t){return!!this.check(t)&&(this.favourite.delete(t),this.set([...this.favourite]),!0)}check(t){return this.favourite.has(t)}}class Oe extends Le{static instance;constructor(t="accessKey"){return Oe.instance||(super(t),Oe.instance=this),Oe.instance}}class Se{#t=Ee;constructor(){this.accesKeyService=new Oe("accessKey"),this.accessKey=this.accesKeyService.get(),console.log("accessKey:",this.accessKey)}async getAccessKey(){try{if(!this.accessKey){const t=await Ce.get(`${this.#t}api/users/accessKey`);this.accessKey=t.data.accessKey,this.accesKeyService.set(this.accessKey)}}catch(t){console.log("Error: ",t)}}async getData(t,e={}){this.accessKey||await this.getAccessKey();try{return(await Ce.get(`${this.#t}${t}`,{headers:{Authorization:`Bearer ${this.accessKey}`},params:e})).data}catch(n){if(n.response&&401===n.response.status)return this.accessKey=null,this.accesKeyService.delete(),this.getData(t,e);if(500===n.response.status)return this.getData(t,e);console.log("Error: ",n)}}async getProducts(t){return await this.getData("api/products",t)}async getProductCategories(){return await this.getData("api/productCategories")}async getProductById(t){return await this.getData(`api/products/${t}`)}async postProductToCart(t,e=1){this.accessKey||await this.getAccessKey();try{return(await Ce.post(`${this.#t}api/cart/products`,{productId:t,quantity:e},{headers:{Authorization:`Bearer ${this.accessKey}`}})).data}catch(n){n.response&&401===n.response.status&&(this.accessKey=null,this.AccessKeyService.delete()),console.error(n)}}async updateQuantityProductsInCart(t,e){this.accessKey||await this.getAccessKey();try{return(await Ce.put(`${this.#t}api/cart/products`,{productId:t,quantity:e},{headers:{Authorization:`Bearer ${this.accessKey}`}})).data}catch(n){n.response&&401===n.response.status&&(this.accessKey=null,this.AccessKeyService.delete()),console.error(n)}}async getCart(){return await this.getData("api/cart")}async removeProductFromCart(t){this.accessKey||await this.getAccessKey();try{return(await Ce.delete(`${this.#t}api/cart/products/${t}`,{headers:{Authorization:`Bearer ${this.accessKey}`}})).data}catch(e){e.response&&401===e.response.status&&(this.accessKey=null,this.AccessKeyService.delete()),console.error(e)}}async postOrder(t){this.accessKey||await this.getAccessKey();try{return(await Ce.post(`${this.#t}api/orders`,t,{headers:{Authorization:`Bearer ${this.accessKey}`}})).data}catch(e){e.response&&401===e.response.status&&(this.accessKey=null,this.AccessKeyService.delete()),console.error(e)}}async getOrder(t){return await this.getData(`api/orders/${t}`)}}class Ae{static instance=null;constructor(){return Ae.instance||(Ae.instance=this,this.element=document.createElement("header"),this.element.classList.add("header"),this.containerElement=q(this.element,"header__container"),this.isMounted=!1),Ae.instance}mount(){if(this.isMounted)return;const t=new B("header").create(),e=this.getSearchForm(),n=this.getNavigation();this.containerElement.append(t,e,n),document.body.append(this.element),this.isMounted=!0}unmount(){this.element.remove(),this.isMounted=!1}getSearchForm(){const t=document.createElement("form");t.classList.add("header__search"),t.method="get";const e=document.createElement("input");e.classList.add("header__input"),e.type="search",e.name="search",e.placeholder="Ведите запрос";const n=document.createElement("button");return n.classList.add("header__search-button"),n.type="submit",n.innerHTML='\n            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n                d="M7.66634 13.9999C11.1641 13.9999 13.9997 11.1644 13.9997 7.66659C13.9997 4.16878 11.1641 1.33325 7.66634 1.33325C4.16854 1.33325 1.33301 4.16878 1.33301 7.66659C1.33301 11.1644 4.16854 13.9999 7.66634 13.9999Z"\n                stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />\n            <path d="M14.6663 14.6666L13.333 13.3333" stroke="currentColor" stroke-width="1.5"\n                stroke-linecap="round" stroke-linejoin="round" />\n            </svg>\n        ',t.addEventListener("submit",(n=>{n.preventDefault(),Ke.navigate(`/search?q=${e.value}`),t.reset()})),t.append(e,n),t}getNavigation(){const t=document.createElement("nav");t.classList.add("header__control");const e=document.createElement("a");e.classList.add("header__link"),e.href="/favourite";const n=document.createElement("span");n.classList.add("header__link-text"),n.textContent="Избранное",$().then((t=>{e.append(n,t)}));const r=document.createElement("a");r.classList.add("header__link"),r.href="/cart";const o=document.createElement("span");o.classList.add("header__link-text"),o.textContent="Корзина";const i=document.createElement("span");return i.classList.add("header__count"),r.append(o,i),r.insertAdjacentHTML("beforeend",'\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n                <path d="M5.87329 1.33325L3.45996 3.75325" stroke="#1C1C1C" stroke-miterlimit="10"\n                    stroke-linecap="round" stroke-linejoin="round" />\n                <path d="M10.127 1.33325L12.5403 3.75325" stroke="#1C1C1C" stroke-miterlimit="10"\n                    stroke-linecap="round" stroke-linejoin="round" />\n                <path\n                    d="M1.33301 5.23324C1.33301 3.9999 1.99301 3.8999 2.81301 3.8999H13.1863C14.0063 3.8999 14.6663 3.9999 14.6663 5.23324C14.6663 6.66657 14.0063 6.56657 13.1863 6.56657H2.81301C1.99301 6.56657 1.33301 6.66657 1.33301 5.23324Z"\n                    stroke="#1C1C1C" />\n                <path d="M6.50684 9.33325V11.6999" stroke="#1C1C1C" stroke-linecap="round" />\n                <path d="M9.57324 9.33325V11.6999" stroke="#1C1C1C" stroke-linecap="round" />\n                <path\n                    d="M2.33301 6.66675L3.27301 12.4267C3.48634 13.7201 3.99967 14.6667 5.90634 14.6667H9.92634C11.9997 14.6667 12.3063 13.7601 12.5463 12.5067L13.6663 6.66675"\n                    stroke="#1C1C1C" stroke-linecap="round" />\n            </svg>\n        '),t.append(e,r),this.cartCountElements=i,t}changeCount(t){this.cartCountElements.textContent=`(${t})`}}class Pe{static instance=null;constructor(){return Pe.instance||(Pe.instance=this,this.element=document.createElement("main"),this.element.classList.add("main"),this.isMounted=!1),Pe.instance}mount(){this.isMounted||(document.body.append(this.element),this.isMounted=!0)}unmount(){this.element.remove(),this.isMounted=!1}}class Re{static instance=null;constructor(){return Re.instance||(Re.instance=this,this.element=document.createElement("footer"),this.element.classList.add("footer"),this.containerElement=q(this.element,"footer__container"),this.isMounted=!1),Re.instance}mount(){if(this.isMounted)return;const t=new B("footer").create();this.containerElement.append(t),this.containerElement.insertAdjacentHTML("beforeend",'\n            <div class="footer__contacts contacts">\n                <a href="tel:+7(939)8391297" class="contacts__phone">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n                        <path\n                            d="M4.48578 1.54445L5.59264 1.21074C5.95794 1.10078 6.35076 1.12746 6.69784 1.2858C7.04492 1.44415 7.32254 1.72334 7.47892 2.07131L8.25492 3.79703C8.38961 4.09641 8.42715 4.43046 8.36227 4.75227C8.2974 5.07408 8.13336 5.36749 7.89321 5.59131L6.71206 6.69188C6.55378 6.84217 6.67378 7.42788 7.25206 8.43017C7.83092 9.43303 8.27835 9.8296 8.48464 9.76788L10.0321 9.29474C10.3457 9.1988 10.6816 9.20341 10.9925 9.30794C11.3034 9.41246 11.5738 9.61166 11.7658 9.8776L12.8686 11.4062C13.0914 11.7148 13.1945 12.0939 13.1589 12.4728C13.1233 12.8518 12.9513 13.205 12.6749 13.4667L11.8223 14.2742C11.5471 14.5348 11.2077 14.7178 10.8387 14.8044C10.4696 14.891 10.0842 14.8782 9.72178 14.7673C7.93549 14.2205 6.28121 12.5976 4.73664 9.9216C3.18864 7.2416 2.60406 4.98103 3.01149 3.13417C3.09367 2.76203 3.2736 2.41853 3.53275 2.1391C3.79189 1.85966 4.12088 1.65439 4.48578 1.54445Z"\n                            fill="white" />\n                    </svg>\n                    <span>+7 (939) 839 12 97</span>\n                </a>\n\n                <ul class="contacts__list">\n                    <li class="contacts__item">\n                        <a class="contacts__link" href="#">\n                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"\n                                xmlns="http://www.w3.org/2000/svg">\n                                <path\n                                    d="M8.00031 0.320068C3.75871 0.320068 0.320312 3.75847 0.320312 8.00007C0.320312 12.2417 3.75871 15.6801 8.00031 15.6801C12.2419 15.6801 15.6803 12.2417 15.6803 8.00007C15.6803 3.75847 12.2419 0.320068 8.00031 0.320068ZM10.9539 8.98487C10.9539 8.98487 11.6331 9.65527 11.8003 9.96647C11.8051 9.97287 11.8075 9.97927 11.8091 9.98247C11.8771 10.0969 11.8931 10.1857 11.8595 10.2521C11.8035 10.3625 11.6115 10.4169 11.5459 10.4217H10.3459C10.2627 10.4217 10.0883 10.4001 9.87711 10.2545C9.71471 10.1409 9.55471 9.95447 9.39871 9.77287C9.16591 9.50247 8.96431 9.26887 8.76111 9.26887C8.7353 9.26882 8.70965 9.27287 8.68511 9.28087C8.53151 9.33047 8.33471 9.54967 8.33471 10.1337C8.33471 10.3161 8.19071 10.4209 8.08911 10.4209H7.53951C7.35231 10.4209 6.37711 10.3553 5.51311 9.44407C4.45551 8.32807 3.50351 6.08967 3.49551 6.06887C3.43551 5.92407 3.55951 5.84647 3.69471 5.84647H4.90671C5.06831 5.84647 5.12111 5.94487 5.15791 6.03207C5.20111 6.13367 5.35951 6.53767 5.61951 6.99207C6.04111 7.73287 6.29951 8.03367 6.50671 8.03367C6.54556 8.03321 6.58372 8.02333 6.61791 8.00487C6.88831 7.85447 6.83791 6.89047 6.82591 6.69047C6.82591 6.65287 6.82511 6.25927 6.68671 6.07047C6.58751 5.93367 6.41871 5.88167 6.31631 5.86247C6.35776 5.80528 6.41236 5.7589 6.47551 5.72727C6.66111 5.63447 6.99551 5.62087 7.32751 5.62087H7.51231C7.87231 5.62567 7.96511 5.64887 8.09551 5.68167C8.35951 5.74487 8.36511 5.91527 8.34191 6.49847C8.33471 6.66407 8.32751 6.85127 8.32751 7.07207C8.32751 7.12007 8.32511 7.17127 8.32511 7.22567C8.31711 7.52247 8.30751 7.85927 8.51711 7.99767C8.54445 8.01481 8.57604 8.02396 8.60831 8.02407C8.68111 8.02407 8.90031 8.02407 9.49391 7.00567C9.67698 6.67788 9.83606 6.33725 9.96991 5.98647C9.98191 5.96567 10.0171 5.90167 10.0587 5.87687C10.0894 5.86122 10.1235 5.85326 10.1579 5.85367H11.5827C11.7379 5.85367 11.8443 5.87687 11.8643 5.93687C11.8995 6.03207 11.8579 6.32247 11.2075 7.20327L10.9171 7.58647C10.3275 8.35927 10.3275 8.39847 10.9539 8.98487Z"\n                                    fill="white" />\n                            </svg>\n                        </a>\n                    </li>\n                    <li class="contacts__item">\n                        <a class="contacts__link" href="#">\n                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"\n                                xmlns="http://www.w3.org/2000/svg">\n                                <path\n                                    d="M6.66634 9.99992L10.1263 7.99992L6.66634 5.99992V9.99992ZM14.373 4.77992C14.4597 5.09325 14.5197 5.51325 14.5597 6.04658C14.6063 6.57992 14.6263 7.03992 14.6263 7.43992L14.6663 7.99992C14.6663 9.45992 14.5597 10.5333 14.373 11.2199C14.2063 11.8199 13.8197 12.2066 13.2197 12.3733C12.9063 12.4599 12.333 12.5199 11.453 12.5599C10.5863 12.6066 9.79301 12.6266 9.05967 12.6266L7.99967 12.6666C5.20634 12.6666 3.46634 12.5599 2.77967 12.3733C2.17967 12.2066 1.79301 11.8199 1.62634 11.2199C1.53967 10.9066 1.47967 10.4866 1.43967 9.95325C1.39301 9.41992 1.37301 8.95992 1.37301 8.55992L1.33301 7.99992C1.33301 6.53992 1.43967 5.46659 1.62634 4.77992C1.79301 4.17992 2.17967 3.79325 2.77967 3.62659C3.09301 3.53992 3.66634 3.47992 4.54634 3.43992C5.41301 3.39325 6.20634 3.37325 6.93967 3.37325L7.99967 3.33325C10.793 3.33325 12.533 3.43992 13.2197 3.62659C13.8197 3.79325 14.2063 4.17992 14.373 4.77992Z"\n                                    fill="white" />\n                            </svg>\n                        </a>\n                    </li>\n                    <li class="contacts__item">\n                        <a class="contacts__link" href="#">\n                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"\n                                xmlns="http://www.w3.org/2000/svg">\n                                <path\n                                    d="M16 8C16 10.1217 15.1571 12.1566 13.6569 13.6569C12.1566 15.1571 10.1217 16 8 16C5.87827 16 3.84344 15.1571 2.34315 13.6569C0.842855 12.1566 0 10.1217 0 8C0 5.87827 0.842855 3.84344 2.34315 2.34315C3.84344 0.842855 5.87827 0 8 0C10.1217 0 12.1566 0.842855 13.6569 2.34315C15.1571 3.84344 16 5.87827 16 8ZM8.287 5.906C7.509 6.23 5.953 6.9 3.621 7.916C3.243 8.066 3.044 8.214 3.026 8.358C2.996 8.601 3.301 8.697 3.716 8.828L3.891 8.883C4.299 9.016 4.849 9.171 5.134 9.177C5.394 9.183 5.683 9.077 6.002 8.857C8.181 7.386 9.306 6.643 9.376 6.627C9.426 6.615 9.496 6.601 9.542 6.643C9.589 6.684 9.584 6.763 9.579 6.784C9.549 6.913 8.352 8.025 7.733 8.601C7.54 8.781 7.403 8.908 7.375 8.937C7.31334 9.00001 7.25067 9.06202 7.187 9.123C6.807 9.489 6.523 9.763 7.202 10.211C7.529 10.427 7.791 10.604 8.052 10.782C8.336 10.976 8.62 11.169 8.988 11.411C9.081 11.471 9.171 11.536 9.258 11.598C9.589 11.834 9.888 12.046 10.255 12.012C10.469 11.992 10.69 11.792 10.802 11.192C11.067 9.775 11.588 6.706 11.708 5.441C11.7153 5.33584 11.711 5.2302 11.695 5.126C11.6856 5.04192 11.6449 4.96446 11.581 4.909C11.49 4.84619 11.3815 4.81365 11.271 4.816C10.971 4.821 10.508 4.982 8.287 5.906Z"\n                                    fill="white" />\n                            </svg>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n\n            <ul class="footer__developer-list">\n                <li class="footer__developer-item">\n                    Designer:\n                    <a href="https://t.me/Mrshmallowww" class="footer__developer-link" target="_blank">Anastasia\n                        Ilina</a>\n                </li>\n                <li class="footer__developer-item">\n                    Developer:\n                    <a href="https://t.me/Vietn_am" class="footer__developer-link" target="_blank">Sergey Up</a>\n                </li>\n            </ul>\n\n            <p class="footer__copyright">© Koff, 2023</p>\n'),document.body.append(this.element),this.isMounted=!0}unmount(){this.element.remove(),this.isMounted=!1}}class Te{static instance=null;constructor(){return Te.instance||(Te.instance=this,this.pagination=this.createPagination()),Te.instance}createPagination(){const t=document.createElement("div");t.classList.add("pagination"),this.paginationBar=document.createElement("div"),this.paginationBar.classList.add("pagination__bar");const e=document.createElement("div");e.classList.add("pagination__controls"),this.paginationPrev=document.createElement("a"),this.paginationPrev.classList.add("pagination__prev"),this.paginationPrev.innerHTML='\n      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"\n        fill="none">\n        <path\n            d="M2.86395 8.0001L8.52528 2.1821C8.5719 2.13522 8.60874 2.07955 8.6337 2.01833C8.65866 1.95711 8.67122 1.89155 8.67068 1.82544C8.67013 1.75933 8.65647 1.69398 8.6305 1.63318C8.60453 1.57239 8.56676 1.51734 8.51938 1.47124C8.472 1.42513 8.41594 1.38888 8.35445 1.36458C8.29297 1.34028 8.22727 1.32842 8.16117 1.32968C8.09507 1.33094 8.02988 1.34529 7.96936 1.37191C7.90885 1.39854 7.85421 1.43689 7.80862 1.48477L1.80862 7.65143C1.7178 7.74478 1.66699 7.86987 1.66699 8.0001C1.66699 8.13033 1.7178 8.25542 1.80862 8.34877L7.80862 14.5154C7.85421 14.5633 7.90885 14.6017 7.96936 14.6283C8.02988 14.6549 8.09507 14.6693 8.16117 14.6705C8.22727 14.6718 8.29297 14.6599 8.35445 14.6356C8.41594 14.6113 8.472 14.5751 8.51938 14.529C8.56676 14.4829 8.60453 14.4278 8.6305 14.367C8.65647 14.3062 8.67013 14.2409 8.67068 14.1748C8.67122 14.1087 8.65866 14.0431 8.6337 13.9819C8.60874 13.9207 8.5719 13.865 8.52528 13.8181L2.86395 8.0001Z"\n            fill="#1C1C1C" />\n      </svg>\n    ',this.paginationNext=document.createElement("a"),this.paginationNext.classList.add("pagination__next"),this.paginationNext.innerHTML='\n      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"\n        fill="none">\n        <path\n            d="M13.136 8.0001L7.47472 2.1821C7.4281 2.13522 7.39126 2.07955 7.3663 2.01833C7.34134 1.95711 7.32878 1.89155 7.32932 1.82544C7.32987 1.75933 7.34353 1.69398 7.3695 1.63318C7.39547 1.57239 7.43324 1.51734 7.48062 1.47124C7.528 1.42513 7.58406 1.38888 7.64555 1.36458C7.70703 1.34028 7.77273 1.32842 7.83883 1.32968C7.90493 1.33094 7.97012 1.34529 8.03064 1.37191C8.09115 1.39854 8.14579 1.43689 8.19138 1.48477L14.1914 7.65143C14.2822 7.74478 14.333 7.86987 14.333 8.0001C14.333 8.13033 14.2822 8.25542 14.1914 8.34877L8.19138 14.5154C8.14579 14.5633 8.09115 14.6017 8.03064 14.6283C7.97012 14.6549 7.90493 14.6693 7.83883 14.6705C7.77273 14.6718 7.70703 14.6599 7.64555 14.6356C7.58406 14.6113 7.528 14.5751 7.48062 14.529C7.43324 14.4829 7.39547 14.4278 7.3695 14.367C7.34353 14.3062 7.32987 14.2409 7.32932 14.1748C7.32878 14.1087 7.34134 14.0431 7.3663 13.9819C7.39126 13.9207 7.4281 13.865 7.47472 13.8181L13.136 8.0001Z"\n            fill="#1C1C1C" />\n      </svg>\n    ';const n=document.createElement("div");n.classList.add("pagination__info"),this.paginationCurrent=document.createElement("span"),this.paginationCurrent.classList.add("pagination__info-current"),this.paginationTotal=document.createElement("span"),this.paginationTotal.classList.add("pagination__info-total");const r=document.createTextNode("из");return n.append(this.paginationCurrent,r,this.paginationTotal),e.append(this.paginationPrev,n,this.paginationNext),t.append(this.paginationBar,e),t}mount(t,e){return e?t.insertAdjacentElement(e,this.pagination):t.append(this.pagination),this}update({currentPage:t,totalPages:e,totalProducts:n,limit:r}){const o=t*r;this.paginationBar.style.setProperty("--width",`calc((${o<n?o:n} / ${n}) * 100%)`);const i=new URL(window.location.href);1!==t?(i.searchParams.set("page",t-1),this.paginationPrev.href=i.pathname+i.search):this.paginationPrev.removeAttribute("href");const a=new URL(window.location.href);return t!==e?(a.searchParams.set("page",t+1),this.paginationNext.href=a.pathname+a.search):this.paginationNext.removeAttribute("href"),this.paginationCurrent.textContent=n===r?n:o<n?o:o-r+n%r,this.paginationTotal.textContent=n,this}}class je{static instance=null;constructor(){return je.instance||(je.instance=this,this.element=document.createElement("div"),this.element.classList.add("breadcrumb"),this.containerElement=q(this.element)),je.instance}mount(t,e){this.render(e),t.append(this.element),Ke.updatePageLinks()}unmount(){this.element.remove()}render(t){this.containerElement.textContent="";const e=document.createElement("ul");e.classList.add("breadcrumb__list");const n=[{text:"Главная",href:"/"},...t].map((t=>{const e=document.createElement("li");e.classList.add("breadcrumb__item");const n=document.createElement("a");n.classList.add("breadcrumb__link"),n.textContent=t.text,t.href&&(n.href=t.href);const r=document.createElement("span");return r.classList.add("breadcrumb__separator"),r.innerHTML="&gt;",e.append(n,r),e}));e.append(...n),this.containerElement.append(e)}}class Ne{static instance=null;constructor(){return Ne.instance||(Ne.instance=this,this.element=document.createElement("nav"),this.element.classList.add("catalog"),this.containerElement=q(this.element,"catalog__container"),this.isMounted=!1,this.linkList=[]),Ne.instance}async getData(){this.catalogData=await(new Se).getProductCategories()}async mount(t){return this.isMounted||(this.catalogData||(await this.getData(),this.renderListElem(this.catalogData)),t.prepend(this.element),this.isMounted=!0),this}unmount(){return this.element.remove(),this.isMounted=!1,this}renderListElem(t){const e=document.createElement("ul");e.classList.add("catalog__list");const n=t.map((t=>{const e=document.createElement("li");e.classList.add("catalog__item");const n=document.createElement("a");return this.linkList.push(n),n.classList.add("catalog__link"),n.href=`/category?slug=${t}`,n.title=`${t}`,n.textContent=t,e.append(n),e}));e.append(...n),this.containerElement.append(e)}setActiveLink(t){const[{url:e}]=Ke.lastResolved();"category"===e&&(this.linkList.forEach((e=>{const n=new URL(e.href).searchParams.get("slug");t===n?e.classList.add("catalog__link_active"):e.classList.remove("catalog__link_active")})),Ke.updatePageLinks())}}class Me{static instance=null;constructor(){return Me.instance||(Me.instance=this,this.element=document.createElement("section"),this.element.classList.add("page404"),this.containerElement=q(this.element,"page404__container"),this.isMounted=!1),Me.instance}mount(t){this.isMounted||(this.containerElement.innerHTML='\n        <h1>Ошибка 404</h1>\n        <h2>Страница не найдена...</h2>\n        <p>Через 5 секунд, вы будете перенаправлены на <a href="/">главную страницу</a></p>\n',t.append(this.element),this.isMounted=!0)}unmount(){this.element.remove(),this.isMounted=!1}}class Ue{constructor(t,e){this.className=t,this.text=e}create(t){const e=document.createElement("button");return e.classList.add(`${this.className}`),e.dataset.id=t,e.textContent=`${this.text}`,e.addEventListener("click",(async()=>{const{totalCount:e}=await(new Se).postProductToCart(t);console.log("The item added to Cart"),(new Ae).changeCount(e)})),e}}class ze{constructor(t){this.className=t,this.favouriteService=new ke}create(t){const e=document.createElement("button");return e.classList.add(`${this.className}`),e.dataset.id=t,this.favouriteService.check(t)&&e.classList.add(`${this.className}_active`),$().then((t=>{e.append(t)})),e.addEventListener("click",(()=>{console.log("Favourite"),this.favouriteService.check(t)?(this.favouriteService.remove(t),e.classList.remove(`${this.className}_active`)):(this.favouriteService.add(t),e.classList.add(`${this.className}_active`))})),e}}class De{static instance=null;constructor(){return De.instance||(De.instance=this,this.element=document.createElement("section"),this.element.classList.add("product"),this.containerElement=q(this.element,"product__container"),this.isMounted=!1),De.instance}mount(t,e){this.render(e),this.isMounted||(t.append(this.element),this.isMounted=!0)}unmount(){this.element.remove(),this.isMounted=!1}render(t){this.containerElement.textContent="";const e=document.createElement("h2");e.classList.add("product__title"),e.textContent=t.name;const n=document.createElement("div");n.classList.add("product__gallery");const r=document.createElement("div");r.classList.add("swiper","product__slider-main");const o=document.createElement("div");o.classList.add("swiper-wrapper","product__slides");const i=t.images.map((t=>{const e=document.createElement("div");e.classList.add("swiper-slide","product__slide");const n=document.createElement("img");return n.classList.add("product__image"),n.src=`${Ee}${t}`,e.append(n),e}));o.append(...i),r.append(o),n.append(r);const a=document.createElement("div");a.classList.add("swiper","product__slider-thumbnails");const s=document.createElement("div");s.classList.add("swiper-wrapper","product__slides");const c=t.images.map((t=>{const e=document.createElement("div");e.classList.add("swiper-slide","product__slide-thumbnail");const n=document.createElement("img");return n.classList.add("product__image-thumbnail"),n.src=`${Ee}${t}`,e.append(n),e}));if(t.images.length>1){const t=document.createElement("button");t.classList.add("product__slider-controls","product__slider-controls_prev"),t.innerHTML='\n                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none"\n                                xmlns="http://www.w3.org/2000/svg">\n                                <rect width="32" height="32" rx="16" fill="white" fill-opacity="0.4" />\n                                <path\n                                    d="M11.864 16.0001L17.5253 10.1821C17.5719 10.1352 17.6087 10.0796 17.6337 10.0183C17.6587 9.95711 17.6712 9.89155 17.6707 9.82544C17.6701 9.75933 17.6565 9.69398 17.6305 9.63318C17.6045 9.57239 17.5668 9.51734 17.5194 9.47124C17.472 9.42513 17.4159 9.38888 17.3545 9.36458C17.293 9.34028 17.2273 9.32842 17.1612 9.32968C17.0951 9.33094 17.0299 9.34529 16.9694 9.37191C16.9088 9.39854 16.8542 9.43689 16.8086 9.48477L10.8086 15.6514C10.7178 15.7448 10.667 15.8699 10.667 16.0001C10.667 16.1303 10.7178 16.2554 10.8086 16.3488L16.8086 22.5154C16.8542 22.5633 16.9088 22.6017 16.9694 22.6283C17.0299 22.6549 17.0951 22.6693 17.1612 22.6705C17.2273 22.6718 17.293 22.6599 17.3545 22.6356C17.4159 22.6113 17.472 22.5751 17.5194 22.529C17.5668 22.4829 17.6045 22.4278 17.6305 22.367C17.6565 22.3062 17.6701 22.2409 17.6707 22.1748C17.6712 22.1087 17.6587 22.0431 17.6337 21.9819C17.6087 21.9207 17.5719 21.865 17.5253 21.8181L11.864 16.0001Z"\n                                    fill="#1C1C1C" />\n                            </svg>\n      ';const e=document.createElement("button");e.classList.add("product__slider-controls","product__slider-controls_next"),e.innerHTML='\n                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none"\n                                xmlns="http://www.w3.org/2000/svg">\n                                <rect width="32" height="32" rx="16" transform="matrix(-1 0 0 1 32 0)" fill="white"\n                                    fill-opacity="0.4" />\n                                <path\n                                    d="M20.136 16.0001L14.4747 10.1821C14.4281 10.1352 14.3913 10.0796 14.3663 10.0183C14.3413 9.95711 14.3288 9.89155 14.3293 9.82544C14.3299 9.75933 14.3435 9.69398 14.3695 9.63318C14.3955 9.57239 14.4332 9.51734 14.4806 9.47124C14.528 9.42513 14.5841 9.38888 14.6455 9.36458C14.707 9.34028 14.7727 9.32842 14.8388 9.32968C14.9049 9.33094 14.9701 9.34529 15.0306 9.37191C15.0912 9.39854 15.1458 9.43689 15.1914 9.48477L21.1914 15.6514C21.2822 15.7448 21.333 15.8699 21.333 16.0001C21.333 16.1303 21.2822 16.2554 21.1914 16.3488L15.1914 22.5154C15.1458 22.5633 15.0912 22.6017 15.0306 22.6283C14.9701 22.6549 14.9049 22.6693 14.8388 22.6705C14.7727 22.6718 14.707 22.6599 14.6455 22.6356C14.5841 22.6113 14.528 22.5751 14.4806 22.529C14.4332 22.4829 14.3955 22.4278 14.3695 22.367C14.3435 22.3062 14.3299 22.2409 14.3293 22.1748C14.3288 22.1087 14.3413 22.0431 14.3663 21.9819C14.3913 21.9207 14.4281 21.865 14.4747 21.8181L20.136 16.0001Z"\n                                    fill="#1C1C1C" />\n                            </svg>\n      ',r.append(e,t),s.append(...c),a.append(s),n.append(a)}const l=document.createElement("div");l.classList.add("product__info");const d=document.createElement("p");d.classList.add("product__price"),d.innerHTML=`${t.price.toLocaleString()}&nbsp;₽`;const u=document.createElement("p");u.classList.add("product__article"),u.textContent=`арт. ${t.article}`;const p=document.createElement("div");p.classList.add("product__specs");const h=document.createElement("h3");h.classList.add("product__specs-title"),h.textContent="Общие характеристики";const m=document.createElement("table");m.classList.add("product__specs-table","table");const f=t.characteristics.map((t=>{const e=document.createElement("tr");e.classList.add("table__row");const n=document.createElement("td");n.classList.add("table__field"),n.textContent=t[0];const r=document.createElement("td");return r.classList.add("table__value"),r.textContent=t[1],e.append(n,r),e})),g=document.createElement("div");g.classList.add("product__buttons");const _=new Ue("product__buttons-cart","В корзину").create(t.id),b=new ze("product__buttons-favourite").create(t.id);g.append(_,b),m.append(...f),p.append(h,m),l.append(d,u,p,g),this.containerElement.append(e,n,l)}}class Be{constructor({id:t,image:e,title:n,price:r}){this.id=t,this.image=e,this.title=n,this.price=r,this.cartButton=new Ue("card__button-cart","В корзину"),this.likeButton=new ze("card__button-favourite")}create(){const t=document.createElement("article");t.classList.add("goods__card","card");const e=document.createElement("a");e.classList.add("card__link"),e.href=`/product/${this.id}`;const n=new Image;n.classList.add("card__image"),n.src=`${Ee}${this.image}`,n.alt=this.title,e.append(n);const r=document.createElement("div");r.classList.add("card__info");const o=document.createElement("h3");o.classList.add("card__item-title");const i=document.createElement("a");i.classList.add("card__item-link"),i.href=`/product/${this.id}`,i.textContent=`${this.title}`,o.append(i);const a=document.createElement("span");a.classList.add("card__item-price"),a.innerHTML=`${this.price.toLocaleString("ru-RU")}&nbsp;₽`,r.append(o,a);const s=this.cartButton.create(this.id),c=this.likeButton.create(this.id);return t.append(e,r,s,c),t}}class Fe{static instance=null;constructor(){return Fe.instance||(Fe.instance=this,this.element=document.createElement("section"),this.element.classList.add("goods"),this.containerElement=q(this.element,"goods__container"),this.isMounted=!1),Fe.instance}mount(t,e,n,r){this.containerElement.textContent="";const o=document.createElement("h2");o.textContent=n||"Список товаров",o.className=n?"goods__title":"goods__title visually-hidden",this.containerElement.append(o),e&&e.length?this.updateListElem(e):this.containerElement.insertAdjacentHTML("beforeend",`\n        <p class="goods__empty-text">${r||"Произошла ошибка, попробуйте снова"}</p>\n      `),t.append(this.element)}unmount(){this.element.remove(),this.isMounted=!1}addEvents(){}updateListElem(t=[]){const e=document.createElement("ul");e.classList.add("goods__list");const n=t.map((({id:t,images:[e],name:n,price:r})=>{const o=document.createElement("li");return o.classList.add("goods__item"),o.append(new Be({id:t,image:e,title:n,price:r}).create()),o}));e.append(...n),this.containerElement.append(e)}}class $e{static instance=null;constructor(){return $e.instance||($e.instance=this,this.element=document.createElement("section"),this.element.classList.add("order"),this.containerElement=q(this.element,"order__container"),this.isMounted=!1),$e.instance}mount(t,e){this.isMounted||(this.renderOrder(e),t.append(this.element),this.isMounted=!0)}unmount(){this.element.remove(),this.isMounted=!1}renderOrder(t){const e=Object.entries(this.formatData(t)),{id:n,totalPrice:r}=t[0],o=document.createElement("div");o.classList.add("order__info");const i=document.createElement("h3");i.classList.add("order__title"),i.textContent="Заказ успешно размещен";const a=document.createElement("p");a.classList.add("order__fullprice"),a.innerHTML=`${Number(r).toLocaleString("ru-RU")}&nbsp;₽`;const s=document.createElement("p");s.classList.add("order__number"),s.textContent=`№ ${n}`;const c=document.createElement("h4");c.classList.add("order__subtitle"),c.textContent="Данные доставки";const l=document.createElement("table");l.classList.add("order__table","table");const d=e.map((t=>{const e=document.createElement("tr");e.classList.add("table__row");const n=document.createElement("td");n.classList.add("table__field"),n.textContent=t[0];const r=document.createElement("td");return r.classList.add("table__value"),r.textContent=t[1],e.append(n,r),e})),u=document.createElement("button");u.classList.add("order__button"),u.textContent="На главную",u.type="button",u.addEventListener("click",(()=>{Ke.navigate("/")})),o.append(i,a),l.append(...d),this.containerElement.append(o,s,c,l,u)}formatData(t){const e=t[0];return{"Получатель":e.name,"Телефон":e.phone,"E-mail":e.email,"Адрес доставки":e.address,"Способ оплаты":"card"===e.paymentType?"Картой при получении":"Наличными при получении","Способ получения":"delivery"===e.deliveryType?"Доставка":"Самовывоз"}}}class qe{static instance=null;constructor(){return qe.instance||(qe.instance=this,this.element=document.createElement("section"),this.element.classList.add("cart"),this.containerElement=q(this.element,"cart__container"),this.debUpdateCart=((t,e)=>{let n=0,r=0;return(...o)=>{const i=n;n=Date.now(),i&&n-i<=e&&clearTimeout(r),r=setTimeout((()=>t(...o)),e)}})(this.updateCart.bind(this),300),this.isMounted=!1),qe.instance}async mount(t,e,n,r){if(this.isMounted)return;this.containerElement.textContent="";const o=document.createElement("h2");o.classList.add("cart__title"),o.textContent=n,this.containerElement.append(o),this.cartData=e,e.products&&e.products.length?(this.renderProducts(),this.renderForm(),this.renderPlace()):this.containerElement.insertAdjacentHTML("beforeend",`\n          <p class="cart__empty">\n            ${r||"Произошла ошибка, пожалуйста, попробуйте снова"}\n          </p>\n        `),console.log(e),t.append(this.element),this.isMounted=!0}unmount(){this.element.remove(),this.isMounted=!1}updateCart(t,e){0===e?((new Se).removeProductFromCart(t),this.cartData.products=this.cartData.products.filter((e=>e.id!==t))):((new Se).updateQuantityProductsInCart(t,e),this.cartData.products.forEach((n=>{n.id===t&&(n.quantity=e)}))),this.cartData.totalPrice=this.cartData.products.reduce(((t,e)=>t+e.price*e.quantity),0);const n=this.cartData.products.length,r=this.cartData.totalPrice;0===r&&(this.cartProducts.textContent="Корзина пуста. Пожалуйста, добавьте товар, чтобы оформить заказ."),this.cartCount.textContent=`\n      ${n+`\n        ${1===n?"товар":"товара"}\n      `}\n      на сумму:\n    `,this.cartTotalPrice.innerHTML=`\n      ${r.toLocaleString()}\n        &nbsp;₽\n    `}renderProducts(){const t=this.cartData.products;this.cartProducts=document.createElement("div"),this.cartProducts.classList.add("cart__products");const e=t.map((t=>{const e=document.createElement("li");e.classList.add("cart__product");const n=document.createElement("img");n.classList.add("cart__product-img"),n.src=`${Ee}${t.images[0]}`,n.alt=t.name;const r=document.createElement("a");r.classList.add("cart__product-link"),r.title=t.name,r.href=`/product/${t.id}`,r.append(n);const o=document.createElement("h3");o.classList.add("cart__product-title"),o.textContent=t.name;const i=document.createElement("p");i.classList.add("cart__product-article"),i.textContent=`арт. ${t.article}`;const a=document.createElement("p");a.classList.add("cart__product-price"),a.innerHTML=`\n        ${(t.price*t.quantity).toLocaleString()}\n          &nbsp;₽\n      `;const s=document.createElement("div");s.classList.add("cart__product-count");const c=document.createElement("button");c.classList.add("cart__product-btn"),c.textContent="-";const l=document.createElement("button");l.classList.add("cart__product-btn"),l.textContent="+";const d=document.createElement("span");return d.classList.add("cart__product-quantity"),d.textContent=t.quantity,c.addEventListener("click",(async()=>{if(t.quantity){if(t.quantity--,d.textContent=t.quantity,0===t.quantity){e.remove(),this.debUpdateCart(t.id,t.quantity);let{totalCount:n}=await(new Se).getCart();return console.log("Item remove from Cart"),n--,void(new Ae).changeCount(n)}a.innerHTML=`\n            ${(t.price*t.quantity).toLocaleString()}\n              &nbsp;₽\n          `,this.debUpdateCart(t.id,t.quantity)}})),l.addEventListener("click",(()=>{t.quantity++,d.textContent=t.quantity,a.innerHTML=`\n        ${(t.price*t.quantity).toLocaleString()}\n          &nbsp;₽\n      `,this.debUpdateCart(t.id,t.quantity)})),s.append(c,d,l),e.append(r,o,i,a,s),e}));this.cartProducts.append(...e),this.containerElement.append(this.cartProducts)}renderPlace(){const t=this.cartData.products.length,e=this.cartData.totalPrice,n=document.createElement("div");n.classList.add("cart__order");const r=document.createElement("h3");r.classList.add("cart__subtitle"),r.textContent="Оформление";const o=document.createElement("div");o.classList.add("cart__order-info"),this.cartCount=document.createElement("p"),this.cartCount.classList.add("cart__order-count"),this.cartCount.textContent=`\n      ${t+`\n        ${1===t?"товар":"товара"}\n      `}\n      на сумму:\n    `,this.cartTotalPrice=document.createElement("p"),this.cartTotalPrice.classList.add("cart__order-price"),this.cartTotalPrice.innerHTML=`\n      ${e.toLocaleString()}\n        &nbsp;₽\n    `;const i=document.createElement("p");i.classList.add("cart__order-delivery"),i.textContent="Доставка 0 ₽";const a=document.createElement("button");a.classList.add("cart__order-btn"),a.type="submit",a.setAttribute("form","order"),a.textContent="Оформить заказ",o.append(this.cartCount,this.cartTotalPrice),n.append(r,o,i,a),this.containerElement.append(n)}renderForm(){const t=document.createElement("form");t.classList.add("cart__form","form-order"),t.id="order",t.method="POST";const e=document.createElement("h3");e.classList.add("form-order__subtitle"),e.textContent="Данные для доставки";const n=document.createElement("fieldset");n.classList.add("form-order__fieldset","form-order__fieldset_info");const r=document.createElement("fieldset");r.classList.add("form-order__fieldset","form-order__fieldset_delivery");const o=document.createElement("input");o.classList.add("form-order__input"),o.type="text",o.name="name",o.required=!0,o.placeholder="Фамилия Имя Отчество";const i=document.createElement("input");i.classList.add("form-order__input"),i.type="tel",i.name="phone",i.required=!0,i.placeholder="Телефон";const a=document.createElement("input");a.classList.add("form-order__input"),a.type="email",a.name="email",a.required=!0,a.placeholder="E-mail";const s=document.createElement("input");s.classList.add("form-order__input"),s.type="text",s.name="address",s.required=!1,s.placeholder="Адрес доставки";const c=document.createElement("textarea");c.classList.add("form-order__textarea-comment"),c.name="comment",c.placeholder="Комментарий к заказу",n.append(o,i,a,s,c);const l=document.createElement("legend");l.classList.add("form-order__legend"),l.textContent="Доставка";const d=document.createElement("label");d.classList.add("form-order__label","radio");const u=document.createTextNode("Доставка"),p=document.createElement("input");p.classList.add("radio__input"),p.type="radio",p.name="deliveryType",p.required=!0,p.value="delivery",p.checked=!0,d.append(p,u);const h=document.createElement("label");h.classList.add("form-order__label","radio");const m=document.createTextNode("Самовывоз"),f=document.createElement("input");f.classList.add("form-order__radio","radio__input"),f.type="radio",f.name="deliveryType",f.required=!0,f.value="pickup",h.append(f,m),r.append(l,d,h),r.addEventListener("change",(t=>{t.target===p?s.disabled=!1:(s.disabled=!0,s.value="")}));const g=document.createElement("fieldset");g.classList.add("form-order__fieldset","form-order__fieldset_payment");const _=document.createElement("legend");_.classList.add("form-order__legend"),_.textContent="Оплата";const b=document.createElement("label");b.classList.add("form-order__label","radio");const x=document.createTextNode("Картой при получении"),v=document.createElement("input");v.classList.add("form-order__radio","radio__input"),v.type="radio",v.name="paymentType",v.required=!0,v.value="card",b.append(v,x);const y=document.createElement("label");y.classList.add("form-order__label","radio");const w=document.createTextNode("Наличными при получении"),C=document.createElement("input");C.classList.add("form-order__radio","radio__input"),C.type="radio",C.name="paymentType",C.required=!0,C.value="cash",C.checked=!0,y.append(C,w),g.append(_,b,y),t.append(e,n,r,g),t.addEventListener("submit",(async e=>{e.preventDefault(),console.log("Идёт отправка заказа");const n=Object.fromEntries(new FormData(t)),{orderId:r}=await(new Se).postOrder(n);(new Ae).changeCount(0),Ke.navigate(`/order/${r}`)})),this.containerElement.append(t)}}const He=function(t,e,n){return t()},Ke=new function(t,e){var n,r=e||{strategy:"ONE",hash:!1,noMatchWarning:!1,linksSelector:z},o=this,i="/",a=null,s=[],c=!1,l=_(),b=x();function k(t){return t.indexOf("#")>=0&&(t=!0===r.hash?t.split("#")[1]||"/":t.split("#")[0]),t}function O(t){return u(i+"/"+u(t))}function A(t,e,n,r){return t=p(t)?O(t):t,{name:r||u(String(t)),path:t,handler:e,hooks:v(n)}}function P(t,e){if(!o.__dirty){o.__dirty=!0,t=t?u(i)+"/"+u(t):void 0;var n={instance:o,to:t,currentLocationPath:t,navigateOptions:{},resolveOptions:U({},r,e)};return y([w,C,y.if((function(t){var e=t.matches;return e&&e.length>0}),N,T)],n,M),!!n.matches&&n.matches}o.__waiting.push((function(){return o.resolve(t,e)}))}function R(t,e){if(o.__dirty)o.__waiting.push((function(){return o.navigate(t,e)}));else{o.__dirty=!0,t=u(i)+"/"+u(t);var n={instance:o,to:t,navigateOptions:e||{},resolveOptions:e&&e.resolveOptions?e.resolveOptions:r,currentLocationPath:k(t)};y([E,L,C,y.if((function(t){var e=t.matches;return e&&e.length>0}),N,T),S,M],n,M)}}function j(){if(b)return(b?[].slice.call(document.querySelectorAll(r.linksSelector||z)):[]).forEach((function(t){"false"!==t.getAttribute("data-navigo")&&"_blank"!==t.getAttribute("target")?t.hasListenerAttached||(t.hasListenerAttached=!0,t.navigoHandler=function(e){if((e.ctrlKey||e.metaKey)&&"a"===e.target.tagName.toLowerCase())return!1;var n=t.getAttribute("href");if(null==n)return!1;if(n.match(/^(http|https)/)&&"undefined"!=typeof URL)try{var r=new URL(n);n=r.pathname+r.search}catch(a){}var i=function(t){if(!t)return{};var e,n=t.split(","),r={};return n.forEach((function(t){var n=t.split(":").map((function(t){return t.replace(/(^ +| +$)/g,"")}));switch(n[0]){case"historyAPIMethod":r.historyAPIMethod=n[1];break;case"resolveOptionsStrategy":e||(e={}),e.strategy=n[1];break;case"resolveOptionsHash":e||(e={}),e.hash="true"===n[1];break;case"updateBrowserURL":case"callHandler":case"updateState":case"force":r[n[0]]="true"===n[1]}})),e&&(r.resolveOptions=e),r}(t.getAttribute("data-navigo-options"));c||(e.preventDefault(),e.stopPropagation(),o.navigate(u(n),i))},t.addEventListener("click",t.navigoHandler)):t.hasListenerAttached&&t.removeEventListener("click",t.navigoHandler)})),o}function D(t,e,n){var r=s.find((function(e){return e.name===t})),o=null;if(r){if(o=r.path,e)for(var a in e)o=o.replace(":"+a,e[a]);o=o.match(/^\//)?o:"/"+o}return o&&n&&!n.includeRoot&&(o=o.replace(new RegExp("^/"+i),"")),o}function B(t){var e=m(u(t)),r=e[0],o=e[1],i=""===o?null:f(o);return{url:r,queryString:o,hashString:h(t),route:A(r,(function(){}),[n],r),data:null,params:i}}function F(t,e,n){return"string"==typeof e&&(e=$(e)),e?(e.hooks[t]||(e.hooks[t]=[]),e.hooks[t].push(n),function(){e.hooks[t]=e.hooks[t].filter((function(t){return t!==n}))}):(console.warn("Route doesn't exists: "+e),function(){})}function $(t){return"string"==typeof t?s.find((function(e){return e.name===O(t)})):s.find((function(e){return e.handler===t}))}t?i=u(t):console.warn('Navigo requires a root path in its constructor. If not provided will use "/" as default.'),this.root=i,this.routes=s,this.destroyed=c,this.current=a,this.__freezeListening=!1,this.__waiting=[],this.__dirty=!1,this.__markAsClean=function(t){t.instance.__dirty=!1,t.instance.__waiting.length>0&&t.instance.__waiting.shift()()},this.on=function(t,e,r){var o=this;return"object"!=typeof t||t instanceof RegExp?("function"==typeof t&&(r=e,e=t,t=i),s.push(A(t,e,[n,r])),this):(Object.keys(t).forEach((function(e){if("function"==typeof t[e])o.on(e,t[e]);else{var r=t[e],i=r.uses,a=r.as,c=r.hooks;s.push(A(e,i,[n,c],a))}})),this)},this.off=function(t){return this.routes=s=s.filter((function(e){return p(t)?u(e.path)!==u(t):"function"==typeof t?t!==e.handler:String(e.path)!==String(t)})),this},this.resolve=P,this.navigate=R,this.navigateByName=function(t,e,n){var r=D(t,e);return null!==r&&(R(r.replace(new RegExp("^/?"+i),""),n),!0)},this.destroy=function(){this.routes=s=[],l&&window.removeEventListener("popstate",this.__popstateListener),this.destroyed=c=!0},this.notFound=function(t,e){return o._notFoundRoute=A("*",t,[n,e],"__NOT_FOUND__"),this},this.updatePageLinks=j,this.link=function(t){return"/"+i+"/"+u(t)},this.hooks=function(t){return n=t,this},this.extractGETParameters=function(t){return m(k(t))},this.lastResolved=function(){return a},this.generate=D,this.getLinkPath=function(t){return t.getAttribute("href")},this.match=function(t){var e={instance:o,currentLocationPath:t,to:t,navigateOptions:{},resolveOptions:r};return C(e,(function(){})),!!e.matches&&e.matches},this.matchLocation=function(t,e,n){void 0===e||void 0!==n&&!n||(e=O(e));var r={instance:o,to:e,currentLocationPath:e};w(r,(function(){})),"string"==typeof t&&(t=void 0===n||n?O(t):t);var i=g(r,{name:String(t),path:t,handler:function(){},hooks:{}});return i||!1},this.getCurrentLocation=function(){return B(u(d(i)).replace(new RegExp("^"+i),""))},this.addBeforeHook=F.bind(this,"before"),this.addAfterHook=F.bind(this,"after"),this.addAlreadyHook=F.bind(this,"already"),this.addLeaveHook=F.bind(this,"leave"),this.getRoute=$,this._pathToMatchObject=B,this._clean=u,this._checkForAHash=k,this._setCurrent=function(t){return a=o.current=t},function(){l&&(this.__popstateListener=function(){o.__freezeListening||P()},window.addEventListener("popstate",this.__popstateListener))}.call(this),j.call(this)}("/",{linksSelector:'a[href^="/"]'}),Ie=new Se;(new Ae).mount(),(new Pe).mount(),(new Re).mount(),Ke.on("/",(async()=>{(new Ne).mount((new Pe).element);const t=await Ie.getProducts();(new Fe).mount((new Pe).element,t,"Интернет-магазин мебели Koff"),Ke.updatePageLinks()}),{leave(t){(new Ne).unmount(),(new Fe).unmount(),t()},already(t){t.route.handler(t)}}).on("/category",(async({params:{slug:t,page:e=1}})=>{(await(new Ne).mount((new Pe).element)).setActiveLink(t);const{data:n,pagination:r}=await Ie.getProducts({category:t,page:e});(new je).mount((new Pe).element,[{text:t}]),(new Fe).mount((new Pe).element,n,t),r.totalProducts>r.limit&&(new Te).mount((new Fe).containerElement).update(r),Ke.updatePageLinks()}),{async leave(t){(new je).unmount(),(new Fe).unmount(),(await(new Ne).unmount()).setActiveLink(),t()}}).on("/favourite",(async({params:t})=>{(new Ne).mount((new Pe).element);const e=(new ke).get(),{data:n,pagination:r}=await Ie.getProducts({list:e.join(","),page:t?.page||1});(new je).mount((new Pe).element,[{text:"Избранное"}]),(new Fe).mount((new Pe).element,n,"Избранное","В избранном пока пусто, через 5 секунд вы вновь на главной странице."),e.length>r?.limit?((new Te).mount((new Fe).containerElement).update(r),Ke.updatePageLinks()):0===e.length&&setTimeout((()=>{Ke.navigate("/")}),5e3)}),{leave(t){(new je).unmount(),(new Fe).unmount(),(new Ne).unmount(),t()},already(t){t.route.handler(t)}}).on("/search",(async({params:{q:t}})=>{(new Ne).mount((new Pe).element);const{data:e,pagination:n}=await Ie.getProducts({q:t});(new je).mount((new Pe).element,[{text:"Поиск"}]),(new Fe).mount((new Pe).element,e,`Поиск: ${t}`,`Извините, но ничего не найдено по вашему запросу: "${t}"`),n.totalProducts>n.limit&&(new Te).mount((new Fe).containerElement).update(n),Ke.updatePageLinks()}),{leave(t){(new je).unmount(),(new Fe).unmount(),(new Ne).unmount(),t()},already(t){t.route.handler(t)}}).on("/product/:id",(async t=>{(new Ne).mount((new Pe).element);const n=await Ie.getProductById(t.data.id);(new je).mount((new Pe).element,[{text:n.category,href:`/category?slug=${n.category}`},{text:n.name}]),(new De).mount((new Pe).element,n),Promise.all([He((()=>e.import("./index-legacy-70adbf63.js")),0,e.meta.url),He((()=>e.import("./swiper-legacy-87819db0.js")),0,e.meta.url),He((()=>e.import("./swiper-legacy-29251702.js")),0,e.meta.url),He((()=>e.import("./navigation-legacy-aa571a43.js")),0,e.meta.url)]).then((([{Navigation:t,Thumbs:e},n])=>{try{const r=new n.default(".product__slider-thumbnails",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0});new n.default(".product__slider-main",{spaceBetween:10,navigation:{nextEl:".product__slider-controls_next",prevEl:".product__slider-controls_prev"},modules:[t,e],thumbs:{swiper:r}})}catch(r){console.log(new Error(r))}})),Ke.updatePageLinks()}),{leave(t){(new Ne).unmount(),(new je).unmount(),(new De).unmount(),t()}}).on("/cart",(async()=>{const t=await Ie.getCart();(new qe).mount((new Pe).element,t,"Корзина","Корзина пока пуста, добавьте пожалуйста товары"),Ke.updatePageLinks()}),{leave(t){(new qe).unmount(),t()},already(t){t.route.handler(t)}}).on("/order/:id",(({data:{id:t}})=>{Ie.getOrder(t).then((t=>{console.log(t),(new $e).mount((new Pe).element,t)}))}),{leave(t){(new $e).unmount(),t()}}).notFound((()=>{console.log("Message in console: Page ",404),(new Me).mount((new Pe).element),setTimeout((()=>{Ke.navigate("/")}),5e3)}),{leave(t){(new Me).unmount(),console.log("leave 404"),t()}}),Ke.resolve(),Ie.getCart().then((t=>{(new Ae).changeCount(t.totalCount)}))}}}));
